# DOCKERIZING THE Posts SERVICE

- `touch posts/Dockerfile`

NECU MNOGO KOMENTARISATI VEC CU POKUSATI DA PRIMENIM ONO STO SAM NAUCIO PRAVECI IMAGE-OVE I CONTAINERE OD RANIJE

[BASE IMAGE CE BITI NEKA NODE VERZIJA, ALI CE BITI BAREBONES alpine VERZIJA](https://hub.docker.com/_/node)

DEFINISACU WORK DIRECTORY U CONTAINERU

DEFINISACU KOPIRANJE PRVO package.json-A

ZATIM PODESICU INSTLACIONE INSTRUKCIJE (SAMO JEDNU, ZA NODE MODULES)

ZATIM CU DEFINISATI KOPIRNJE SVIH DRUGIH FAJLOVA

I DEFINISEM STARTUP COMMAND

```dockerfile
FROM node:lts-alpine3.12

WORKDIR /app

COPY ./package.json ./

RUN npm install

COPY ./ ./

CMD ["npm", "start"]

```

ZASTO ODVOJENO KOPIRANJE package.json; TO SAM VEC REKAO PRI UPOZNAVAANJU SA DOCKEROM; A VAZNIJE STVAR JE TU DA TO RADIM PRE INSTLACIJE NODE MODULE-A JER JE PACKAGE JSON SAMO POTREBAN ZA INSTLACIIJU

A ONO OSTLO STO SE KOPIRA JE VECINOM CODEBASE, ODNOSNO index.js KOJI JE SKLON PROMENAMA, TOKOM DEVELOPMENTA, I TAKO CE SE OD INSTRUKCIJE NJEGOVOG KOPIRANJA SVE REBUILD-OVATI, A PRE NJEGA CE SE ZA SVE POSEGNUTI U CACHE (JER SE TO PRE NJEGA NECE MANJTI)

# ALI POSTO SI POKRETAO `npm install` U TVOM FILESYSTEMU; TO ZNACI DA IMAS `node_modules` FOLDER, KOJI NIKAKO NE ZELIS DA KOPIRAS KADA PRAVIS IMAGE; ZATO CES MORATI KORISTITI `,dockerignore` FILE

- `touch posts/.dockerignore`

```dockerignore
node_modules
```

