# RUNNING SERVICES WITH DOCKER

ZA SADA KAKV JE MOJ APP, DEPLOYMENT BI OBAVIO TAKO STO BIH IZNAJMIO DIGITAL OCEAN ILI MOZDA AWS SERVER I TAMO KOPIRAO FILE-OVE, ZATIM START-OVAO, SVAKI SERVICE, KOJI BI RUNN-OVAO NA SVOMM PORT-U 

AKO BI NEKI OD SERVICE-A POSTAO OVERBURDENED, MORAO BIH GA MANELNO PLIT-OVATI INTO TWO SERVICE, ODNOSNO DODAO BI KOPIJU ISTOG SERVICE-A, RUNN-OVAO GA NA DRUGOM PORT-U

LOAD BALANCING U OVOM SLUCAJU OGLEDAO BI SE U RANDOMIZACIJI TOGA KOJI CE OD SERVISA BITI HITTED ,ODNONO RANDOMIZE-PVAO BI TO DO KOJEG OD NJIH CE STIVI INCOMMING REQUEST (DO JEDNOG ILI DO DRUGOG)

NEPOVOLJNE STVARI STO BIH MORAO ALLOCATE-OVATI NOVI PORT, ZA KOPIJU

MORAO BI DA U EVENT BUS-UDA SALJES IVENT-OVE I DO KOPIJE SERVISA, STO BI MORA D EKSPLICITNO SPECIFICIRAS, KAO I ZA OSTALE /events ENDPOINTE

NE BI VALJAALO DA COPUPLE-UJES BROJ SERVICE-A SA IMPLEMENTACIJOM EVENT BUS-A

EVENT BUS BI SAMO TREBALO DA ZNA DA ON SALJE EVENT, ODNOSNO NOTIFICATION PREMA SERVICE-U ,A NE DA ZNA DA LI TAJ SERVIS IMA KOPIJA ILI NE

ISTO TAKO AKO SVE SVOJE SERVICE-OVE RUNN-UJES U JEDNOM VIRTUAL MACHINE-U, TO JE OVERBURDENING

A STA AK OSU TI TI SERVISI KOJI SU COPIED RUNNED NA SEPARATE VIRTUAL MACHINE-U

PA JOS GORA STVAR ZA EVENT BUS, JER BI ONDA MORAO DA SPECIFICIRAS I IP TOG MACHINE-A KADA SALJES EVENTOVE PREM SERVISIMA

ISTO TAKO KADA IMAS NEKI LOW TRAFFIC PART OF THE DAY, TI BI MOZDA ODLUCIO DA UKLONIS NEKE KOPIJE SERVISA; MORAO BI I TU EDITUJES EVENT BUS, KAKO NE BI SLAO EVENT-OVE PREMA TIM KOPIJAMA; DAKLE IMAO BI DODATNE USLOVNE IZHJAVE (A TO JE ENESTO STO TAMO NE BI ZELEO DA PISES)

DAKLE TREBA MI BOLJI SOLUTION

**ONO STA JE DEFINITIVNO BOLJE RESENJE JESU DOCKER AND KUBERNETES**

# ZASTO `Docker` ?

ZASTO BAS TO ZAKLJUCI IZ VIDEO SNIMAKA (03-02) ILI [PRODJI DOCKER TUTORIAL](https://github.com/Rade58/exploring_docker)

UGLAVNOM RECI CU TI SAMO DA CES DOCI DO TKVE INFRASTRUKTURE DA CES SVAKI SERVIS PO NAOSOB RUNN-OVATI KAO CONTAINER

KORISTICU TO NAJVISE ZBOG ENVIROMENT-A, KOJEG CU LAKO PODESITI SA DOCKEROM (KOJI CE BITI SPECIJLNO PODESEN ZA SVAKI OD CONTAINER-A AKO TO ZELIM (IZOLOVACES NODE SA NPM-OM U IZOLOVAN COMPUTING ENVIROMENT)), ZATIM CES MOCI DA LAKO DEFINISAES INSTALACIJE, A TAAKODJE I STARTUP PROGRAME (SVE CES TO MOCI DA AUTOMATIZUJES)

I OVO NE VAZI SAM OZA NODJS, VAZI ZA RUNNING BILO KOJIH PROGRMA I JEZIKA (VEOMA JE LAKO PODESITIT TO SA DOCKEROM)

# ZASTO KUBERNETES ?

KUBERNETES POMAZE KOD SCALINGA APLIKACIJE

TO JE TOOL ZA RUNNING BUNCH OF DIFFERENT CONTAINERS TOGETHER

KADA GA BUDEM PODESAVAO, JA CU DATI KONFIGURACIJU KOJA CE DESCRIBE-OVATI KAKO CE MOJI CONTAINERI RUNN-OVATI I INTERACT-OVATI JEDAN SA DRUGIM

## SA CUBERNETESOM TI CES KREIRATI NESTO STO SE ZOVE CLUSTER

A SET OF DIFFERENT VIRTUAL MACHINES

MOZE IMATI JEDNU ILI VISE VIRTUAL MACHINE-A (HUNDREDS OR THOUSANDS)

SVE TE VIRTUELNE MACHINE SE JOS NAZIVAJU I NODE-OVI CLUSTER-A

**SVE SU MANGED BY SOMTHING CALLED MASTER, A TO JE PROGRAM, KOJI MANAGE-UJE EVERYTHING INSIDE CLUSTER ,SVE DIFFERENT PROGRAMS KOJE RUNN-UJU, SVE ASPECTE VIRTUAL MACHINE-A, I MNOGE DRUGE STVARI**

JA CU RECI KUBERENTES-U DA RANUJE NAKE STVARI FOR ME

UZECE NASE PROGRAM I RANDOMLY CE BITI EXECUTED BY SOME OF MY NODES, A NOD JE SAMO VIRTUAL MACHINE

## U PRAKSI BI TO IZGLEDALO OVAKO

IZGRADIS CONFIGURATION FILES, SA EXPLICIT DIRECTIONSIMA ZA KUBERNETES, NA PRIMER D ARUNNUJE DVE KOPIJE P0OSTS SERVISA

ISTO TAKO DAJES INSTRUKCIJU DA KOPIJE BUDU EASYLLY ACCESSIBLE FROM NETWORK

**CONFIGURATION FILES FEED-UJES TO MASTER**

MASTER CE DA READ-UJE CONFIGURATION FILE, I ON CE DA POKUSA DA IMPLEMENTIR ALL THE STEPS, KOJE SMO NAPISALI U NJEGA

U OVOM PRIMERU CE SE DAKLE POKUSATI DA SE NAPRAVE DVE KOPIJE POSTS SERVICE-A, WRAPPEND INSIDE OF CONTAINERS, MORE OR LES RANDOMLY ASSIGNED

DAKKE ASSIGNED TO NODES IN MY CLUSTER

**KUBERNETES CE DATI ABILITY DA SE ARBITRARLY SALJU REQUESTS ILI DA SE KOMUNICIRA BETWEEN NODES, SA NEKOM THIRD PARTY STVARJU, KOJU CES DA KREIRAS**

BICE NEKA STVAR KOJEEOJ CES TI SLATI REQUESTS, A AUTOMATSKI CE BITI FIGURED OUT , KAKO SE WRPP-UJE REQUEST TO APPROPRIATE KOPIJI SERVICE-A

I RECIMO DA TI JE EVENT BUS U TRECEM NODE-U

DA NE KORISTIS KUBERNETES, MORAO BI NEKAKO DA NAUCIS EVENT BUS DA KAKO DITREKTNO DA REACH-UJE OUT DO DRUGE VUIRTUAL MACHINE

TAKO I ZA SVAKI DRUGI SERVICE

A TO NE ZELIM DA RADIM
